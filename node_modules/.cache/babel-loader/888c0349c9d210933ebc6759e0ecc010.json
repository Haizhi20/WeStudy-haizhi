{"remainingRequest":"C:\\Users\\10242\\Desktop\\项目\\WeStudy\\westudy\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\10242\\Desktop\\项目\\WeStudy\\westudy\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\10242\\Desktop\\项目\\WeStudy\\westudy\\src\\uitls\\request.js","dependencies":[{"path":"C:\\Users\\10242\\Desktop\\项目\\WeStudy\\westudy\\src\\uitls\\request.js","mtime":1645025819348},{"path":"C:\\Users\\10242\\Desktop\\项目\\WeStudy\\westudy\\babel.config.js","mtime":1642344396643},{"path":"C:\\Users\\10242\\Desktop\\项目\\WeStudy\\westudy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\10242\\Desktop\\项目\\WeStudy\\westudy\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\10242\\Desktop\\项目\\WeStudy\\westudy\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7Ci8vYXhpb3PlsIHoo4UKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKdmFyIGluc3RhbmNlID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiAnaHR0cDovL2xvY2FsaG9zdDo4MDgwJywKICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsCiAgLy/mmK/lkKblhYHorrjluKZjb29raWUKICB0aW1lb3V0OiAxMDAwMAp9KTsgLy/mi6bmiKrlmagKCnZhciBzdG9yYWdlID0gd2luZG93LmxvY2FsU3RvcmFnZTsKaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZSggLy/nmbvlvZXmi6bmiKoKZnVuY3Rpb24gKHJlcykgewogIHZhciBfcmVzJGRhdGEgPSByZXMuZGF0YSwKICAgICAgZGF0YSA9IF9yZXMkZGF0YS5kYXRhLAogICAgICBtZXNzYWdlID0gX3JlcyRkYXRhLm1lc3NhZ2UsCiAgICAgIHRva2VuID0gX3JlcyRkYXRhLnRva2VuLAogICAgICBzdGF0dXMgPSBfcmVzJGRhdGEuc3RhdHVzOwoKICBpZiAoc3RhdHVzID09IDIwMCkgewogICAgc3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHRva2VuKTsKICAgIHJldHVybiB7CiAgICAgIGRhdGE6IGRhdGEsCiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UKICAgIH07CiAgfSBlbHNlIGlmIChzdGF0dXMgPT0gMTAwKSB7CiAgICByZXR1cm4gbWVzc2FnZTsKICB9IGVsc2UgewogICAgY29uc29sZS5sb2cocmVzKTsKICAgIHJldHVybiBQcm9taXNlLnJlczsKICB9Cn0pOwppbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoIC8vIOe7memcgOimgeWcqOivt+axguWktOmZhOS4inRva2Vu55qE6K+35rGC55qEYXhpb3Plrp7kvovorr7nva7or7fmsYLmi6bmiKoKZnVuY3Rpb24gKGNvbmZpZykgewogIGlmIChzdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykpIHsKICAgIGNvbmZpZy5oZWFkZXJzWyd0b2tlbiddID0gc3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwogIH0KCiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CmV4cG9ydCBkZWZhdWx0IGluc3RhbmNlOw=="},{"version":3,"sources":["C:/Users/10242/Desktop/项目/WeStudy/westudy/src/uitls/request.js"],"names":["axios","instance","create","baseURL","withCredentials","timeout","storage","window","localStorage","interceptors","response","use","res","data","message","token","status","setItem","console","log","Promise","request","config","getItem","headers","error","reject"],"mappings":";AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,IAAMC,QAAQ,GAAGD,KAAK,CAACE,MAAN,CAAa;AACtBC,EAAAA,OAAO,EAAE,uBADa;AAEtBC,EAAAA,eAAe,EAAE,IAFK;AAEC;AACvBC,EAAAA,OAAO,EAAE;AAHa,CAAb,CAAjB,C,CAKI;;AACJ,IAAIC,OAAO,GAAGC,MAAM,CAACC,YAArB;AACAP,QAAQ,CAACQ,YAAT,CAAsBC,QAAtB,CAA+BC,GAA/B,EAAoC;AAChC,UAAAC,GAAG,EAAI;AACH,kBAAuCA,GAAG,CAACC,IAA3C;AAAA,MAAMA,IAAN,aAAMA,IAAN;AAAA,MAAYC,OAAZ,aAAYA,OAAZ;AAAA,MAAqBC,KAArB,aAAqBA,KAArB;AAAA,MAA4BC,MAA5B,aAA4BA,MAA5B;;AACA,MAAIA,MAAM,IAAI,GAAd,EAAmB;AACfV,IAAAA,OAAO,CAACW,OAAR,CAAgB,OAAhB,EAAyBF,KAAzB;AACA,WAAO;AAAEF,MAAAA,IAAI,EAAJA,IAAF;AAAQC,MAAAA,OAAO,EAAPA;AAAR,KAAP;AACH,GAHD,MAGO,IAAIE,MAAM,IAAI,GAAd,EAAmB;AACtB,WAAOF,OAAP;AACH,GAFM,MAEA;AACHI,IAAAA,OAAO,CAACC,GAAR,CAAYP,GAAZ;AACA,WAAOQ,OAAO,CAACR,GAAf;AACH;AACJ,CAZL;AAcAX,QAAQ,CAACQ,YAAT,CAAsBY,OAAtB,CAA8BV,GAA9B,EAAmC;AAC/B,UAAAW,MAAM,EAAI;AACN,MAAIhB,OAAO,CAACiB,OAAR,CAAgB,OAAhB,CAAJ,EAA8B;AAC1BD,IAAAA,MAAM,CAACE,OAAP,CAAe,OAAf,IAA0BlB,OAAO,CAACiB,OAAR,CAAgB,OAAhB,CAA1B;AACH;;AACD,SAAOD,MAAP;AACH,CANL,EAOI,UAAAG,KAAK,EAAI;AACL,SAAOL,OAAO,CAACM,MAAR,CAAeD,KAAf,CAAP;AACH,CATL;AAWA,eAAexB,QAAf","sourcesContent":["//axios封装\r\nimport axios from 'axios'\r\nconst instance = axios.create({\r\n        baseURL: 'http://localhost:8080',\r\n        withCredentials: true, //是否允许带cookie\r\n        timeout: 10000\r\n    })\r\n    //拦截器\r\nlet storage = window.localStorage\r\ninstance.interceptors.response.use( //登录拦截\r\n    res => {\r\n        let { data, message, token, status } = res.data\r\n        if (status == 200) {\r\n            storage.setItem('token', token)\r\n            return { data, message }\r\n        } else if (status == 100) {\r\n            return message\r\n        } else {\r\n            console.log(res)\r\n            return Promise.res\r\n        }\r\n    })\r\n\r\ninstance.interceptors.request.use( // 给需要在请求头附上token的请求的axios实例设置请求拦截\r\n    config => {\r\n        if (storage.getItem('token')) {\r\n            config.headers['token'] = storage.getItem('token')\r\n        }\r\n        return config\r\n    },\r\n    error => {\r\n        return Promise.reject(error)\r\n    }\r\n)\r\nexport default instance"]}]}