{"remainingRequest":"/Users/a0/Desktop/项目/WeStudy/westudy/node_modules/babel-loader/lib/index.js!/Users/a0/Desktop/项目/WeStudy/westudy/node_modules/eslint-loader/index.js??ref--14-0!/Users/a0/Desktop/项目/WeStudy/westudy/src/utils/interceptors.js","dependencies":[{"path":"/Users/a0/Desktop/项目/WeStudy/westudy/src/utils/interceptors.js","mtime":1653017657893},{"path":"/Users/a0/Desktop/项目/WeStudy/westudy/babel.config.js","mtime":1642344398000},{"path":"/Users/a0/Desktop/项目/WeStudy/westudy/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/a0/Desktop/项目/WeStudy/westudy/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/a0/Desktop/项目/WeStudy/westudy/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7Ci8vYXhpb3PlsIHoo4UKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IGNvb2tpZSBmcm9tICdqcy1jb29raWUnOwp2YXIgaW5zdGFuY2UgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6ICdodHRwOi8vbG9jYWxob3N0OjgwODInLAogIHdpdGhDcmVkZW50aWFsczogdHJ1ZSwKICAvL+aYr+WQpuWFgeiuuOW4pmNvb2tpZQogIHRpbWVvdXQ6IDEwMDAwCn0pOyAvL+aLpuaIquWZqAoKaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZSggLy/pgJrnlKjmi6bmiKoKZnVuY3Rpb24gKHJlcykgewogIGNvbnNvbGUubG9nKHJlcyk7CiAgdmFyIF9yZXMkZGF0YSA9IHJlcy5kYXRhLAogICAgICBkYXRhID0gX3JlcyRkYXRhLmRhdGEsCiAgICAgIG1zZyA9IF9yZXMkZGF0YS5tc2csCiAgICAgIHN0YXR1cyA9IF9yZXMkZGF0YS5zdGF0dXM7CgogIGlmIChzdGF0dXMgPT0gMjAwKSB7CiAgICByZXR1cm4gewogICAgICBkYXRhOiBkYXRhCiAgICB9OwogIH0gZWxzZSBpZiAoc3RhdHVzID09IDEwMCkgewogICAgcmV0dXJuIG1zZzsKICB9IGVsc2UgewogICAgcmV0dXJuIHJlczsKICB9Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwppbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoIC8vIOe7memcgOimgeWcqOivt+axguWktOmZhOS4inRva2Vu55qE6K+35rGC55qEYXhpb3Plrp7kvovorr7nva7or7fmsYLmi6bmiKoKZnVuY3Rpb24gKGNvbmZpZykgewogIGlmIChjb29raWUuZ2V0KCd0b2tlbicpKSB7CiAgICBjb25maWcuaGVhZGVyc1sndG9rZW4nXSA9IGNvb2tpZS5nZXQoJ3Rva2VuJyk7CiAgfQoKICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKZXhwb3J0IGRlZmF1bHQgaW5zdGFuY2U7"},{"version":3,"sources":["/Users/a0/Desktop/项目/WeStudy/westudy/src/utils/interceptors.js"],"names":["axios","cookie","instance","create","baseURL","withCredentials","timeout","interceptors","response","use","res","console","log","data","msg","status","error","Promise","reject","request","config","get","headers"],"mappings":";AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,IAAMC,QAAQ,GAAGF,KAAK,CAACG,MAAN,CAAa;AACtBC,EAAAA,OAAO,EAAE,uBADa;AAEtBC,EAAAA,eAAe,EAAE,IAFK;AAEC;AACvBC,EAAAA,OAAO,EAAE;AAHa,CAAb,CAAjB,C,CAKI;;AAEJJ,QAAQ,CAACK,YAAT,CAAsBC,QAAtB,CAA+BC,GAA/B,EAAoC;AAChC,UAAAC,GAAG,EAAI;AACHC,EAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,kBAA4BA,GAAG,CAACG,IAAhC;AAAA,MAAMA,IAAN,aAAMA,IAAN;AAAA,MAAYC,GAAZ,aAAYA,GAAZ;AAAA,MAAiBC,MAAjB,aAAiBA,MAAjB;;AACA,MAAIA,MAAM,IAAI,GAAd,EAAmB;AACf,WAAO;AAAEF,MAAAA,IAAI,EAAJA;AAAF,KAAP;AACH,GAFD,MAEO,IAAIE,MAAM,IAAI,GAAd,EAAmB;AACtB,WAAOD,GAAP;AACH,GAFM,MAEA;AACH,WAAOJ,GAAP;AACH;AACJ,CAXL,EAYI,UAAAM,KAAK,EAAI;AACL,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CAdL;AAiBAd,QAAQ,CAACK,YAAT,CAAsBY,OAAtB,CAA8BV,GAA9B,EAAmC;AAC/B,UAAAW,MAAM,EAAI;AACN,MAAInB,MAAM,CAACoB,GAAP,CAAW,OAAX,CAAJ,EAAyB;AACrBD,IAAAA,MAAM,CAACE,OAAP,CAAe,OAAf,IAA0BrB,MAAM,CAACoB,GAAP,CAAW,OAAX,CAA1B;AACH;;AACD,SAAOD,MAAP;AACH,CANL,EAOI,UAAAJ,KAAK,EAAI;AACL,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CATL;AAWA,eAAed,QAAf","sourcesContent":["//axios封装\r\nimport axios from 'axios'\r\nimport cookie from 'js-cookie'\r\nconst instance = axios.create({\r\n        baseURL: 'http://localhost:8082',\r\n        withCredentials: true, //是否允许带cookie\r\n        timeout: 10000\r\n    })\r\n    //拦截器\r\n\r\ninstance.interceptors.response.use( //通用拦截\r\n    res => {\r\n        console.log(res)\r\n        let { data, msg, status } = res.data\r\n        if (status == 200) {\r\n            return { data }\r\n        } else if (status == 100) {\r\n            return msg\r\n        } else {\r\n            return res\r\n        }\r\n    },\r\n    error => {\r\n        return Promise.reject(error)\r\n    }\r\n)\r\n\r\ninstance.interceptors.request.use( // 给需要在请求头附上token的请求的axios实例设置请求拦截\r\n    config => {\r\n        if (cookie.get('token')) {\r\n            config.headers['token'] = cookie.get('token')\r\n        }\r\n        return config\r\n    },\r\n    error => {\r\n        return Promise.reject(error)\r\n    }\r\n)\r\nexport default instance"]}]}