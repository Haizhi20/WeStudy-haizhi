{"remainingRequest":"/Users/a0/Desktop/项目/WeStudy/westudy/node_modules/babel-loader/lib/index.js!/Users/a0/Desktop/项目/WeStudy/westudy/node_modules/eslint-loader/index.js??ref--14-0!/Users/a0/Desktop/项目/WeStudy/westudy/src/utils/request.js","dependencies":[{"path":"/Users/a0/Desktop/项目/WeStudy/westudy/src/utils/request.js","mtime":1647355262766},{"path":"/Users/a0/Desktop/项目/WeStudy/westudy/babel.config.js","mtime":1642344398000},{"path":"/Users/a0/Desktop/项目/WeStudy/westudy/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/a0/Desktop/项目/WeStudy/westudy/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/a0/Desktop/项目/WeStudy/westudy/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7Ci8vYXhpb3PlsIHoo4UKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKdmFyIGluc3RhbmNlID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiAnaHR0cDovL2xvY2FsaG9zdDo4MDgwJywKICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsCiAgLy/mmK/lkKblhYHorrjluKZjb29raWUKICB0aW1lb3V0OiAxMDAwMAp9KTsgLy/mi6bmiKrlmagKCnZhciBzdG9yYWdlID0gd2luZG93LmxvY2FsU3RvcmFnZTsKaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZSggLy/nmbvlvZXmi6bmiKoKZnVuY3Rpb24gKHJlcykgewogIGNvbnNvbGUubG9nKHJlcyk7CiAgdmFyIF9yZXMkZGF0YSA9IHJlcy5kYXRhLAogICAgICBkYXRhID0gX3JlcyRkYXRhLmRhdGEsCiAgICAgIG1lc3NhZ2UgPSBfcmVzJGRhdGEubWVzc2FnZSwKICAgICAgdG9rZW4gPSBfcmVzJGRhdGEudG9rZW4sCiAgICAgIHN0YXR1cyA9IF9yZXMkZGF0YS5zdGF0dXM7CgogIGlmIChzdGF0dXMgPT0gMjAwKSB7CiAgICBzdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgdG9rZW4pOwogICAgcmV0dXJuIHsKICAgICAgZGF0YTogZGF0YSwKICAgICAgbWVzc2FnZTogbWVzc2FnZQogICAgfTsKICB9IGVsc2UgaWYgKHN0YXR1cyA9PSAxMDApIHsKICAgIHJldHVybiBtZXNzYWdlOwogIH0gZWxzZSB7CiAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgcmV0dXJuIFByb21pc2UucmVzOwogIH0KfSk7Cmluc3RhbmNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZSggLy8g57uZ6ZyA6KaB5Zyo6K+35rGC5aS06ZmE5LiKdG9rZW7nmoTor7fmsYLnmoRheGlvc+WunuS+i+iuvue9ruivt+axguaLpuaIqgpmdW5jdGlvbiAoY29uZmlnKSB7CiAgaWYgKHN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSkgewogICAgY29uZmlnLmhlYWRlcnNbJ3Rva2VuJ10gPSBzdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7CiAgfQoKICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKZXhwb3J0IGRlZmF1bHQgaW5zdGFuY2U7"},{"version":3,"sources":["/Users/a0/Desktop/项目/WeStudy/westudy/src/utils/request.js"],"names":["axios","instance","create","baseURL","withCredentials","timeout","storage","window","localStorage","interceptors","response","use","res","console","log","data","message","token","status","setItem","Promise","request","config","getItem","headers","error","reject"],"mappings":";AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,IAAMC,QAAQ,GAAGD,KAAK,CAACE,MAAN,CAAa;AACtBC,EAAAA,OAAO,EAAE,uBADa;AAEtBC,EAAAA,eAAe,EAAE,IAFK;AAEC;AACvBC,EAAAA,OAAO,EAAE;AAHa,CAAb,CAAjB,C,CAKI;;AACJ,IAAIC,OAAO,GAAGC,MAAM,CAACC,YAArB;AACAP,QAAQ,CAACQ,YAAT,CAAsBC,QAAtB,CAA+BC,GAA/B,EAAoC;AAChC,UAAAC,GAAG,EAAI;AACHC,EAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,kBAAuCA,GAAG,CAACG,IAA3C;AAAA,MAAMA,IAAN,aAAMA,IAAN;AAAA,MAAYC,OAAZ,aAAYA,OAAZ;AAAA,MAAqBC,KAArB,aAAqBA,KAArB;AAAA,MAA4BC,MAA5B,aAA4BA,MAA5B;;AACA,MAAIA,MAAM,IAAI,GAAd,EAAmB;AACfZ,IAAAA,OAAO,CAACa,OAAR,CAAgB,OAAhB,EAAyBF,KAAzB;AACA,WAAO;AAAEF,MAAAA,IAAI,EAAJA,IAAF;AAAQC,MAAAA,OAAO,EAAPA;AAAR,KAAP;AACH,GAHD,MAGO,IAAIE,MAAM,IAAI,GAAd,EAAmB;AACtB,WAAOF,OAAP;AACH,GAFM,MAEA;AACHH,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,WAAOQ,OAAO,CAACR,GAAf;AACH;AACJ,CAbL;AAgBAX,QAAQ,CAACQ,YAAT,CAAsBY,OAAtB,CAA8BV,GAA9B,EAAmC;AAC/B,UAAAW,MAAM,EAAI;AACN,MAAIhB,OAAO,CAACiB,OAAR,CAAgB,OAAhB,CAAJ,EAA8B;AAC1BD,IAAAA,MAAM,CAACE,OAAP,CAAe,OAAf,IAA0BlB,OAAO,CAACiB,OAAR,CAAgB,OAAhB,CAA1B;AACH;;AACD,SAAOD,MAAP;AACH,CANL,EAOI,UAAAG,KAAK,EAAI;AACL,SAAOL,OAAO,CAACM,MAAR,CAAeD,KAAf,CAAP;AACH,CATL;AAWA,eAAexB,QAAf","sourcesContent":["//axios封装\r\nimport axios from 'axios'\r\nconst instance = axios.create({\r\n        baseURL: 'http://localhost:8080',\r\n        withCredentials: true, //是否允许带cookie\r\n        timeout: 10000\r\n    })\r\n    //拦截器\r\nlet storage = window.localStorage\r\ninstance.interceptors.response.use( //登录拦截\r\n    res => {\r\n        console.log(res)\r\n        let { data, message, token, status } = res.data\r\n        if (status == 200) {\r\n            storage.setItem('token', token)\r\n            return { data, message }\r\n        } else if (status == 100) {\r\n            return message\r\n        } else {\r\n            console.log(res)\r\n            return Promise.res\r\n        }\r\n    },\r\n)\r\n\r\ninstance.interceptors.request.use( // 给需要在请求头附上token的请求的axios实例设置请求拦截\r\n    config => {\r\n        if (storage.getItem('token')) {\r\n            config.headers['token'] = storage.getItem('token')\r\n        }\r\n        return config\r\n    },\r\n    error => {\r\n        return Promise.reject(error)\r\n    }\r\n)\r\nexport default instance"]}]}