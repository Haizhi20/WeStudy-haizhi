{"remainingRequest":"/Users/a0/Desktop/项目/WeStudy/westudy/node_modules/babel-loader/lib/index.js!/Users/a0/Desktop/项目/WeStudy/westudy/node_modules/eslint-loader/index.js??ref--14-0!/Users/a0/Desktop/项目/WeStudy/westudy/src/utils/loginInterceptor.js","dependencies":[{"path":"/Users/a0/Desktop/项目/WeStudy/westudy/src/utils/loginInterceptor.js","mtime":1652929965532},{"path":"/Users/a0/Desktop/项目/WeStudy/westudy/babel.config.js","mtime":1642344398000},{"path":"/Users/a0/Desktop/项目/WeStudy/westudy/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/a0/Desktop/项目/WeStudy/westudy/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/a0/Desktop/项目/WeStudy/westudy/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBjb29raWUgZnJvbSAnanMtY29va2llJzsKdmFyIGluc3RhbmNlID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiAnaHR0cDovL2xvY2FsaG9zdDo4MDgyJywKICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsCiAgLy/mmK/lkKblhYHorrjluKZjb29raWUKICB0aW1lb3V0OiAxMDAwMAp9KTsKaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZSggLy/nmbvlvZXmi6bmiKoKZnVuY3Rpb24gKHJlcykgewogIGNvbnNvbGUubG9nKCfnmbvpmYbmi6bmiKrvvJonLCByZXMpOwogIHZhciBfcmVzJGRhdGEgPSByZXMuZGF0YSwKICAgICAgZGF0YSA9IF9yZXMkZGF0YS5kYXRhLAogICAgICBtZXNzYWdlID0gX3JlcyRkYXRhLm1lc3NhZ2UsCiAgICAgIHN0YXR1cyA9IF9yZXMkZGF0YS5zdGF0dXM7CgogIGlmIChzdGF0dXMgPT0gMjAwKSB7CiAgICBjb29raWUuc2V0KCd0b2tlbicsIGRhdGEsIHsKICAgICAgZXhwaXJlczogMwogICAgfSk7IC8v6K6+572uM+Wkqei/h+acnwoKICAgIHJldHVybiB7CiAgICAgIHN0YXR1czogc3RhdHVzLAogICAgICBtZXNzYWdlOiBtZXNzYWdlCiAgICB9OwogIH0gZWxzZSBpZiAoc3RhdHVzID09IDEwMCkgewogICAgY29uc29sZS5sb2coJ+eZu+mZhuWksei0pScpOwogICAgcmV0dXJuIGRhdGE7CiAgfSBlbHNlIHsKICAgIHJldHVybiByZXM7CiAgfQp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKZXhwb3J0IGRlZmF1bHQgaW5zdGFuY2U7"},{"version":3,"sources":["/Users/a0/Desktop/项目/WeStudy/westudy/src/utils/loginInterceptor.js"],"names":["axios","cookie","instance","create","baseURL","withCredentials","timeout","interceptors","response","use","res","console","log","data","message","status","set","expires","error","Promise","reject"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,IAAMC,QAAQ,GAAGF,KAAK,CAACG,MAAN,CAAa;AAC1BC,EAAAA,OAAO,EAAE,uBADiB;AAE1BC,EAAAA,eAAe,EAAE,IAFS;AAEH;AACvBC,EAAAA,OAAO,EAAE;AAHiB,CAAb,CAAjB;AAMAJ,QAAQ,CAACK,YAAT,CAAsBC,QAAtB,CAA+BC,GAA/B,EAAoC;AAChC,UAAAC,GAAG,EAAI;AACHC,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,GAArB;AACA,kBAAgCA,GAAG,CAACG,IAApC;AAAA,MAAMA,IAAN,aAAMA,IAAN;AAAA,MAAYC,OAAZ,aAAYA,OAAZ;AAAA,MAAqBC,MAArB,aAAqBA,MAArB;;AACA,MAAIA,MAAM,IAAI,GAAd,EAAmB;AACfd,IAAAA,MAAM,CAACe,GAAP,CAAW,OAAX,EAAoBH,IAApB,EAA0B;AAAEI,MAAAA,OAAO,EAAE;AAAX,KAA1B,EADe,CAC2B;;AAC1C,WAAO;AAAEF,MAAAA,MAAM,EAANA,MAAF;AAAUD,MAAAA,OAAO,EAAPA;AAAV,KAAP;AACH,GAHD,MAGO,IAAIC,MAAM,IAAI,GAAd,EAAmB;AACtBJ,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA,WAAOC,IAAP;AACH,GAHM,MAGA;AACH,WAAOH,GAAP;AACH;AACJ,CAbL,EAcI,UAAAQ,KAAK,EAAI;AACL,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CAhBL;AAkBA,eAAehB,QAAf","sourcesContent":["import axios from 'axios'\nimport cookie from 'js-cookie'\nconst instance = axios.create({\n    baseURL: 'http://localhost:8082',\n    withCredentials: true, //是否允许带cookie\n    timeout: 10000\n})\n\ninstance.interceptors.response.use( //登录拦截\n    res => {\n        console.log('登陆拦截：', res)\n        let { data, message, status } = res.data\n        if (status == 200) {\n            cookie.set('token', data, { expires: 3 }) //设置3天过期\n            return { status, message }\n        } else if (status == 100) {\n            console.log('登陆失败')\n            return data\n        } else {\n            return res\n        }\n    },\n    error => {\n        return Promise.reject(error)\n    }\n)\nexport default instance"]}]}