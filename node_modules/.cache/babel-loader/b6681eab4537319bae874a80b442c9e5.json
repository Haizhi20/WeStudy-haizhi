{"remainingRequest":"/Users/a0/Desktop/项目/WeStudy/westudy/node_modules/babel-loader/lib/index.js!/Users/a0/Desktop/项目/WeStudy/westudy/node_modules/eslint-loader/index.js??ref--14-0!/Users/a0/Desktop/项目/WeStudy/westudy/src/utils/loginInterceptor.js","dependencies":[{"path":"/Users/a0/Desktop/项目/WeStudy/westudy/src/utils/loginInterceptor.js","mtime":1653012847772},{"path":"/Users/a0/Desktop/项目/WeStudy/westudy/babel.config.js","mtime":1642344398000},{"path":"/Users/a0/Desktop/项目/WeStudy/westudy/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/a0/Desktop/项目/WeStudy/westudy/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/a0/Desktop/项目/WeStudy/westudy/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBjb29raWUgZnJvbSAnanMtY29va2llJzsKdmFyIGluc3RhbmNlID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiAnaHR0cDovL2xvY2FsaG9zdDo4MDgyJywKICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsCiAgLy/mmK/lkKblhYHorrjluKZjb29raWUKICB0aW1lb3V0OiAxMDAwMAp9KTsKdmFyIHN0b3JhZ2UgPSB3aW5kb3cubG9jYWxTdG9yYWdlOwppbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKCAvL+eZu+W9leaLpuaIqgpmdW5jdGlvbiAocmVzKSB7CiAgY29uc29sZS5sb2coJ+eZu+mZhuaLpuaIqu+8micsIHJlcyk7CiAgdmFyIF9yZXMkZGF0YSA9IHJlcy5kYXRhLAogICAgICBkYXRhID0gX3JlcyRkYXRhLmRhdGEsCiAgICAgIG1zZyA9IF9yZXMkZGF0YS5tc2csCiAgICAgIHN0YXR1cyA9IF9yZXMkZGF0YS5zdGF0dXMsCiAgICAgIHRva2VuID0gX3JlcyRkYXRhLnRva2VuOwoKICBpZiAoc3RhdHVzID09IDIwMCkgewogICAgY29va2llLnNldCgndG9rZW4nLCB0b2tlbiwgewogICAgICBleHBpcmVzOiAzCiAgICB9KTsgLy/orr7nva4z5aSp6L+H5pyfCgogICAgc3RvcmFnZS5zZXRJdGVtKCd1ZGF0YScsIEpTT04ucGFyc2UoKSk7CiAgICByZXR1cm4gewogICAgICBzdGF0dXM6IHN0YXR1cywKICAgICAgbXNnOiBtc2cKICAgIH07CiAgfSBlbHNlIGlmIChzdGF0dXMgPT0gMTAwKSB7CiAgICBjb25zb2xlLmxvZygn55m76ZmG5aSx6LSlJyk7CiAgICByZXR1cm4gZGF0YTsKICB9IGVsc2UgewogICAgcmV0dXJuIHJlczsKICB9Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwpleHBvcnQgZGVmYXVsdCBpbnN0YW5jZTs="},{"version":3,"sources":["/Users/a0/Desktop/项目/WeStudy/westudy/src/utils/loginInterceptor.js"],"names":["axios","cookie","instance","create","baseURL","withCredentials","timeout","storage","window","localStorage","interceptors","response","use","res","console","log","data","msg","status","token","set","expires","setItem","JSON","parse","error","Promise","reject"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,IAAMC,QAAQ,GAAGF,KAAK,CAACG,MAAN,CAAa;AAC1BC,EAAAA,OAAO,EAAE,uBADiB;AAE1BC,EAAAA,eAAe,EAAE,IAFS;AAEH;AACvBC,EAAAA,OAAO,EAAE;AAHiB,CAAb,CAAjB;AAKA,IAAIC,OAAO,GAAGC,MAAM,CAACC,YAArB;AACAP,QAAQ,CAACQ,YAAT,CAAsBC,QAAtB,CAA+BC,GAA/B,EAAoC;AAChC,UAAAC,GAAG,EAAI;AACHC,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,GAArB;AACA,kBAAmCA,GAAG,CAACG,IAAvC;AAAA,MAAMA,IAAN,aAAMA,IAAN;AAAA,MAAYC,GAAZ,aAAYA,GAAZ;AAAA,MAAiBC,MAAjB,aAAiBA,MAAjB;AAAA,MAAyBC,KAAzB,aAAyBA,KAAzB;;AACA,MAAID,MAAM,IAAI,GAAd,EAAmB;AACfjB,IAAAA,MAAM,CAACmB,GAAP,CAAW,OAAX,EAAoBD,KAApB,EAA2B;AAAEE,MAAAA,OAAO,EAAE;AAAX,KAA3B,EADe,CAC4B;;AAC3Cd,IAAAA,OAAO,CAACe,OAAR,CAAgB,OAAhB,EAAyBC,IAAI,CAACC,KAAL,EAAzB;AACA,WAAO;AAAEN,MAAAA,MAAM,EAANA,MAAF;AAAUD,MAAAA,GAAG,EAAHA;AAAV,KAAP;AACH,GAJD,MAIO,IAAIC,MAAM,IAAI,GAAd,EAAmB;AACtBJ,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA,WAAOC,IAAP;AACH,GAHM,MAGA;AACH,WAAOH,GAAP;AACH;AACJ,CAdL,EAeI,UAAAY,KAAK,EAAI;AACL,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CAjBL;AAmBA,eAAevB,QAAf","sourcesContent":["import axios from 'axios'\nimport cookie from 'js-cookie'\nconst instance = axios.create({\n    baseURL: 'http://localhost:8082',\n    withCredentials: true, //是否允许带cookie\n    timeout: 10000\n})\nlet storage = window.localStorage\ninstance.interceptors.response.use( //登录拦截\n    res => {\n        console.log('登陆拦截：', res)\n        let { data, msg, status, token } = res.data\n        if (status == 200) {\n            cookie.set('token', token, { expires: 3 }) //设置3天过期\n            storage.setItem('udata', JSON.parse())\n            return { status, msg }\n        } else if (status == 100) {\n            console.log('登陆失败')\n            return data\n        } else {\n            return res\n        }\n    },\n    error => {\n        return Promise.reject(error)\n    }\n)\nexport default instance"]}]}