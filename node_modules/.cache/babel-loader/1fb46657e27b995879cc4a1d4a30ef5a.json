{"remainingRequest":"/Users/a0/Desktop/项目/WeStudy/westudy/node_modules/babel-loader/lib/index.js!/Users/a0/Desktop/项目/WeStudy/westudy/node_modules/eslint-loader/index.js??ref--14-0!/Users/a0/Desktop/项目/WeStudy/westudy/src/utils/interceptors.js","dependencies":[{"path":"/Users/a0/Desktop/项目/WeStudy/westudy/src/utils/interceptors.js","mtime":1652883932595},{"path":"/Users/a0/Desktop/项目/WeStudy/westudy/babel.config.js","mtime":1642344398000},{"path":"/Users/a0/Desktop/项目/WeStudy/westudy/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/a0/Desktop/项目/WeStudy/westudy/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/a0/Desktop/项目/WeStudy/westudy/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7Ci8vYXhpb3PlsIHoo4UKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKdmFyIGluc3RhbmNlID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiAnaHR0cDovL2xvY2FsaG9zdDo4MDgxJywKICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsCiAgLy/mmK/lkKblhYHorrjluKZjb29raWUKICB0aW1lb3V0OiAxMDAwMAp9KTsgLy/mi6bmiKrlmagKCnZhciBzdG9yYWdlID0gd2luZG93LmxvY2FsU3RvcmFnZTsKaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZSggLy/nmbvlvZXmi6bmiKoKZnVuY3Rpb24gKHJlcykgewogIGNvbnNvbGUubG9nKHJlcyk7CiAgdmFyIF9yZXMkZGF0YSA9IHJlcy5kYXRhLAogICAgICBkYXRhID0gX3JlcyRkYXRhLmRhdGEsCiAgICAgIG1lc3NhZ2UgPSBfcmVzJGRhdGEubWVzc2FnZSwKICAgICAgc3RhdHVzID0gX3JlcyRkYXRhLnN0YXR1czsKCiAgaWYgKHN0YXR1cyA9PSAyMDApIHsKICAgIC8vIHN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCB0b2tlbikKICAgIHJldHVybiB7CiAgICAgIGRhdGE6IGRhdGEsCiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UKICAgIH07CiAgfSBlbHNlIGlmIChzdGF0dXMgPT0gMTAwKSB7CiAgICByZXR1cm4gbWVzc2FnZTsKICB9IGVsc2UgewogICAgcmV0dXJuIHJlczsKICB9Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwppbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoIC8vIOe7memcgOimgeWcqOivt+axguWktOmZhOS4inRva2Vu55qE6K+35rGC55qEYXhpb3Plrp7kvovorr7nva7or7fmsYLmi6bmiKoKZnVuY3Rpb24gKGNvbmZpZykgewogIGlmIChzdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykpIHsKICAgIGNvbmZpZy5oZWFkZXJzWyd0b2tlbiddID0gc3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwogIH0KCiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CmV4cG9ydCBkZWZhdWx0IGluc3RhbmNlOw=="},{"version":3,"sources":["/Users/a0/Desktop/项目/WeStudy/westudy/src/utils/interceptors.js"],"names":["axios","instance","create","baseURL","withCredentials","timeout","storage","window","localStorage","interceptors","response","use","res","console","log","data","message","status","error","Promise","reject","request","config","getItem","headers"],"mappings":";AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,IAAMC,QAAQ,GAAGD,KAAK,CAACE,MAAN,CAAa;AACtBC,EAAAA,OAAO,EAAE,uBADa;AAEtBC,EAAAA,eAAe,EAAE,IAFK;AAEC;AACvBC,EAAAA,OAAO,EAAE;AAHa,CAAb,CAAjB,C,CAKI;;AACJ,IAAIC,OAAO,GAAGC,MAAM,CAACC,YAArB;AACAP,QAAQ,CAACQ,YAAT,CAAsBC,QAAtB,CAA+BC,GAA/B,EAAoC;AAChC,UAAAC,GAAG,EAAI;AACHC,EAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,kBAAgCA,GAAG,CAACG,IAApC;AAAA,MAAMA,IAAN,aAAMA,IAAN;AAAA,MAAYC,OAAZ,aAAYA,OAAZ;AAAA,MAAqBC,MAArB,aAAqBA,MAArB;;AACA,MAAIA,MAAM,IAAI,GAAd,EAAmB;AACf;AACA,WAAO;AAAEF,MAAAA,IAAI,EAAJA,IAAF;AAAQC,MAAAA,OAAO,EAAPA;AAAR,KAAP;AACH,GAHD,MAGO,IAAIC,MAAM,IAAI,GAAd,EAAmB;AACtB,WAAOD,OAAP;AACH,GAFM,MAEA;AACH,WAAOJ,GAAP;AACH;AACJ,CAZL,EAaI,UAAAM,KAAK,EAAI;AACL,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CAfL;AAkBAjB,QAAQ,CAACQ,YAAT,CAAsBY,OAAtB,CAA8BV,GAA9B,EAAmC;AAC/B,UAAAW,MAAM,EAAI;AACN,MAAIhB,OAAO,CAACiB,OAAR,CAAgB,OAAhB,CAAJ,EAA8B;AAC1BD,IAAAA,MAAM,CAACE,OAAP,CAAe,OAAf,IAA0BlB,OAAO,CAACiB,OAAR,CAAgB,OAAhB,CAA1B;AACH;;AACD,SAAOD,MAAP;AACH,CANL,EAOI,UAAAJ,KAAK,EAAI;AACL,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CATL;AAWA,eAAejB,QAAf","sourcesContent":["//axios封装\r\nimport axios from 'axios'\r\nconst instance = axios.create({\r\n        baseURL: 'http://localhost:8081',\r\n        withCredentials: true, //是否允许带cookie\r\n        timeout: 10000\r\n    })\r\n    //拦截器\r\nlet storage = window.localStorage\r\ninstance.interceptors.response.use( //登录拦截\r\n    res => {\r\n        console.log(res)\r\n        let { data, message, status } = res.data\r\n        if (status == 200) {\r\n            // storage.setItem('token', token)\r\n            return { data, message }\r\n        } else if (status == 100) {\r\n            return message\r\n        } else {\r\n            return res\r\n        }\r\n    },\r\n    error => {\r\n        return Promise.reject(error)\r\n    }\r\n)\r\n\r\ninstance.interceptors.request.use( // 给需要在请求头附上token的请求的axios实例设置请求拦截\r\n    config => {\r\n        if (storage.getItem('token')) {\r\n            config.headers['token'] = storage.getItem('token')\r\n        }\r\n        return config\r\n    },\r\n    error => {\r\n        return Promise.reject(error)\r\n    }\r\n)\r\nexport default instance"]}]}